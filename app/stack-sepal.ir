{:definitions {"main/dispatch!" ["defn" "dispatch!" ["op" "op-data"] ["send!" "op" "op-data"]], "comp.task-draft/init-state" ["defn" "init-state" ["&" "args"] "|"], "comp.task-draft/update-state" ["defn" "update-state" ["state" "text"] "text"], "comp.header/on-profile" ["defn" "on-profile" ["e" "dispatch!"] ["dispatch!" ":router/change" ["{}" [":name" ":profile"] [":params" "nil"] [":router" "nil"]]]], "comp.login/update-state" ["defn" "update-state" ["state" "k" "v"] ["assoc" "state" "k" "v"]], "comp.group/render" ["defn" "render" ["task-group"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/row" "style-container"]]] ["div" ["{}" [":style" "style-sidebar"]] ["div" ["{}" [":style" "style-name"]] ["comp-text" [":name" "task-group"] "nil"]]] ["div" ["{}"] ["let" [["tasks" [":tasks" "task-group"]]] ["div" ["{}"] ["div" ["{}"] ["comp-task-draft" [":id" "task-group"]]] ["if" ["empty?" "tasks"] ["div" ["{}" [":style" "style-empty"]] ["comp-text" "|No tasks" "nil"]] ["div" ["{}"] ["->>" ["vals" "tasks"] ["map" ["fn" ["task"] ["[]" [":id" "task"] ["div" ["{}"] ["comp-text" [":text" "task"] "nil"]]]]]]]]]]]]]], "main/on-jsload!" ["defn" "on-jsload!" [] ["clear-cache!"] ["render-app!"] ["println" "|code updated."]], "main/render-app!" ["defn" "render-app!" [] ["let" [["target" [".querySelector" "js/document" "|#app"]]] ["render!" ["comp-container" "@store-ref"] "target" "dispatch!" "states-ref"]]], "comp.portal/style-group-list" ["def" "style-group-list" ["{}" [":flex-wrap" ":wrap"] [":cursor" ":pointer"]]], "comp.task-draft/style-draft" ["def" "style-draft" ["{}" [":width" "400"]]], "comp.login/on-toggle" ["defn" "on-toggle" ["mutate!" "signup?"] ["fn" ["e" "dispatch!"] ["mutate!" ":signup?" ["not" "signup?"]]]], "main/-main" ["defn" "-main" [] ["enable-console-print!"] ["render-app!"] ["setup-socket!" "store-ref" ["{}" [":url" ["str" "|ws://" [".-hostname" "js/location"] "|:5021"]] [":on-close!" ["fn" ["event"] [".error" "js/console" "|Lost connection!"]]]]] ["add-watch" "store-ref" ":changes" "render-app!"] ["add-watch" "states-ref" ":changes" "render-app!"] ["println" "|app started!"]], "comp.login/on-submit" ["defn" "on-submit" ["username" "password" "signup?"] ["fn" ["e" "dispatch!"] ["dispatch!" ["if" "signup?" ":user/sign-up" ":user/log-in"] ["[]" "username" "password"]]]], "comp.portal/on-create" ["defn" "on-create" ["e" "dispatch!"] ["dispatch!" ":task-group/create" "|New Group"]], "comp.portal/style-trigger" ["def" "style-trigger" ["{}" [":height" "64"] [":width" "128"] [":background-color" "colors/motif-light"] [":color" ":white"] [":cursor" ":pointer"]]], "comp.container/render" ["defn" "render" ["store"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/global" "ui/fullscreen" "ui/column"]]] ["comp-header" [":logged-in?" "store"]] ["div" ["{}" [":style" "style-body"]] ["div" ["{}" [":style" ["merge" "ui/row" "style-body"]]] ["if" [":logged-in?" "store"] ["let" [["router" [":router" "store"]]] ["case" [":name" "router"] [":profile" ["comp-profile" [":user" "store"]]] [":portal" ["comp-portal" [":data" "router"]]] [":group" ["comp-group" [":data" "router"]]] ["div" ["{}"] ["comp-text" ["str" "|404 page: " ["pr-str" "router"]] "nil"]]]] ["comp-login"]]]] ["comp-debug" "store" "style-debugger"] ["comp-msg-list" ["get-in" "store" ["[]" ":state" ":notifications"]] ":state/remove-notification"]]]], "comp.login/init-state" ["defn" "init-state" ["&" "args"] ["{}" [":signup?" "false"] [":username" "|"] [":password" "|"]]], "comp.header/style-logo" ["def" "style-logo" ["{}" [":cursor" "|pointer"]]], "comp.group/comp-group" ["def" "comp-group" ["create-comp" ":group" "render"]], "comp.login/on-input" ["defn" "on-input" ["mutate!" "k"] ["fn" ["e" "dispatch!"] ["mutate!" "k" [":value" "e"]]]], "comp.group/style-sidebar" ["def" "style-sidebar" ["{}" [":width" "320"]]], "comp.portal/on-group" ["defn" "on-group" ["group-id"] ["fn" ["e" "dispatch!"] ["dispatch!" ":router/change" ["{}" [":name" ":group"] [":params" "group-id"] [":router" "nil"]]]]], "comp.portal/style-group" ["def" "style-group" ["{}" [":background-color" "colors/attractive"] [":margin-right" "16"] [":margin-bottom" "16"] [":height" "64"] [":width" "128"] [":color" ":white"]]], "comp.container/comp-container" ["def" "comp-container" ["create-comp" ":container" "render"]], "main/store-ref" ["defonce" "store-ref" ["atom" ["{}"]]], "comp.login/render" ["defn" "render" [] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/flex" "ui/column"]]] ["div" ["{}"] ["comp-text" ["if" [":signup?" "state"] "|Sign up" "|Log in"] "style-title"] ["if" [":signup?" "state"] ["div" ["{}"] ["comp-text" "|Want to log in?" "nil"] ["comp-space" "8" "nil"] ["div" ["{}" [":style" "ui/clickable-text"] [":event" ["{}" [":click" ["on-toggle" "mutate!" [":signup?" "state"]]]]]] ["comp-text" "|Log in" "nil"]]] ["div" ["{}"] ["comp-text" "|No account yet?" "nil"] ["comp-space" "8" "nil"] ["div" ["{}" [":style" "ui/clickable-text"] [":event" ["{}" [":click" ["on-toggle" "mutate!" [":signup?" "state"]]]]]] ["comp-text" "|Sign up" "nil"]]]]] ["div" ["{}" [":style" ["{}"]]] ["div" ["{}"] ["input" ["{}" [":style" "ui/input"] [":attrs" ["{}" [":placeholder" "|Username"] [":value" [":username" "state"]]]] [":event" ["{}" [":input" ["on-input" "mutate!" ":username"]]]]]]] ["comp-space" "nil" "8"] ["div" ["{}"] ["input" ["{}" [":style" "ui/input"] [":attrs" ["{}" [":placeholder" "|Password"] [":value" [":password" "state"]]]] [":event" ["{}" [":input" ["on-input" "mutate!" ":password"]]]]]]]] ["comp-space" "nil" "8"] ["div" ["{}" [":style" "ui/flex"]] ["button" ["{}" [":style" ["merge" "ui/button" ["{}" [":outline" ":none"] [":border" ":none"]]]] [":event" ["{}" [":click" ["on-submit" [":username" "state"] [":password" "state"] [":signup?" "state"]]]]]] ["comp-text" "|Submit" "nil"]]] ["--" "comp-debug" "state" "nil"]]]], "comp.group/style-empty" ["def" "style-empty" ["{}" [":font-size" "20"] [":font-weight" "100"] [":font-family" "|Josefin Sans"] [":color" "colors/texture-light"]]], "comp.header/render" ["defn" "render" ["logged-in?"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/row-center" "style-header"]]] ["div" ["{}" [":event" ["{}" [":click" "on-home"]]] [":style" "style-logo"]] ["comp-text" "|Woodenlist" "nil"]] ["div" ["{}" [":style" "style-pointer"] [":event" ["{}" [":click" "on-profile"]]]] ["comp-text" ["if" "logged-in?" "|Me" "|Guest"] "nil"]]]]], "comp.profile/on-log-out" ["defn" "on-log-out" ["e" "dispatch!"] ["dispatch!" ":user/log-out" "nil"]], "comp.task-draft/on-keydown" ["defn" "on-keydown" ["mutate!" "text" "group-id"] ["fn" ["e" "dispatch!"] ["if" ["=" "13" [":key-code" "e"]] ["do" ["mutate!" "|"] ["dispatch!" ":task/create" ["{}" [":text" "text"] [":group-id" "group-id"]]]]]]], "comp.header/comp-header" ["def" "comp-header" ["create-comp" ":header" "render"]], "comp.portal/comp-portal" ["def" "comp-portal" ["create-comp" ":portal" "render"]], "comp.header/style-pointer" ["def" "style-pointer" ["{}" [":cursor" "|pointer"]]], "comp.container/style-debugger" ["def" "style-debugger" ["{}" [":bottom" "0"] [":left" "0"] [":max-width" "|100%"]]], "network/sender" ["defonce" "sender" ["chan"]], "comp.container/style-body" ["def" "style-body" ["{}" [":padding" "|8px 16px"]]], "comp.header/style-header" ["def" "style-header" ["{}" [":height" "48"] [":background-color" "colors/motif"] [":justify-content" ":space-between"] [":padding" "|0 16px"] [":font-size" "16"] [":color" ":white"]]], "comp.login/comp-login" ["def" "comp-login" ["create-comp" ":login" "init-state" "update-state" "render"]], "comp.header/on-home" ["defn" "on-home" ["e" "dispatch!"] ["dispatch!" ":router/change" ["{}" [":name" ":portal"] [":params" "nil"] [":router" "nil"]]]], "comp.task-draft/on-input" ["defn" "on-input" ["mutate!"] ["fn" ["e" "dispach!"] ["mutate!" [":value" "e"]]]], "comp.task-draft/comp-task-draft" ["def" "comp-task-draft" ["create-comp" ":task-draft" "init-state" "update-state" "render"]], "comp.portal/render" ["defn" "render" ["task-groups"] ["fn" ["state" "mutate!"] ["println" "|Task groups" "task-groups"] ["div" ["{}"] ["div" ["{}" [":style" ["merge" "ui/row" "style-group-list"]]] ["->>" ["vals" "task-groups"] ["map" ["fn" ["task-group"] ["[]" [":id" "task-group"] ["div" ["{}" [":style" ["merge" "ui/center" "style-group"]] [":event" ["{}" [":click" ["on-group" [":id" "task-group"]]]]]] ["comp-text" [":name" "task-group"]]]]]]]] ["div" ["{}" [":style" ["merge" "ui/center" "style-trigger"]] [":event" ["{}" [":click" "on-create"]]]] ["comp-text" "|New Group"]]]]], "comp.task-draft/render" ["defn" "render" ["group-id"] ["fn" ["state" "mutate!"] ["input" ["{}" [":style" ["merge" "ui/input" "style-draft"]] [":attrs" ["{}" [":value" "state"] [":placeholder" "|Add task"]]] [":event" ["{}" [":input" ["on-input" "mutate!"]] [":keydown" ["on-keydown" "mutate!" "state" "group-id"]]]]]]]], "main/states-ref" ["defonce" "states-ref" ["atom" ["{}"]]], "comp.profile/comp-profile" ["def" "comp-profile" ["create-comp" ":profile" "render"]], "comp.profile/style-trigger" ["def" "style-trigger" ["{}" [":font-size" "14"] [":cursor" ":pointer"] [":background-color" "colors/motif-light"] [":color" ":white"] [":padding" "|0 8px"]]], "comp.group/style-name" ["def" "style-name" ["{}" [":font-size" "24"] [":font-weight" "100"] [":font-family" "|Josefin Sans"]]], "comp.profile/render" ["defn" "render" ["user"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" "ui/flex"]] ["comp-text" ["str" "|Hello! " [":name" "user"]] "nil"] ["comp-space" "8" "nil"] ["a" ["{}" [":style" "style-trigger"] [":event" ["{}" [":click" "on-log-out"]]]] ["comp-text" "|Log out" "nil"]]]]], "network/send!" ["defn" "send!" ["op" "op-data"] ["go" [">!" "sender" ["[]" "op" "op-data"]]]], "network/setup-socket!" ["defn" "setup-socket!" ["store-ref" "configs"] ["let" [["ws-url" [":url" "configs"]] ["ws" ["js/WebSocket." "ws-url"]] ["handle-close!" ["if" ["fn?" [":on-close!" "configs"]] [":on-close!" "configs"] "identity"]] ["handle-open!" ["if" ["fn?" [":on-open!" "configs"]] [":on-open!" "configs"] "identity"]]] ["set!" "ws.onopen" ["fn" ["event"] ["handle-open!" "event"]]] ["set!" "ws.onclose" ["fn" ["event"] ["handle-close!" "event"]]] ["set!" "ws.onmessage" ["fn" ["event"] ["let" [["changes" ["reader/read-string" "event.data"]]] ["println" "|Changes" "changes"] ["reset!" "store-ref" ["patch-bunch" "@store-ref" "changes"]]]]] ["go" ["loop" ["[]"] [".send" "ws" ["pr-str" ["<!" "sender"]]] ["recur"]]]]], "comp.group/style-container" ["def" "style-container" ["{}" [":width" "|100%"]]], "comp.login/style-title" ["def" "style-title" ["{}" [":font-size" "24"] [":font-weight" "300"] [":font-family" "|Josefin Sans"]]]}, :namespaces {"comp.portal" ["ns" "woodenlist.comp.portal" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo-ui.style.colors" ":as" "colors"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-code" "comp-text"]]]], "comp.profile" ["ns" "woodenlist.comp.profile" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo-ui.style.colors" ":as" "colors"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span" "a"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-code" "comp-text"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]]]], "comp.container" ["ns" "woodenlist.comp.container" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo-ui.style.colors" ":as" "colors"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-code" "comp-text"]] ["[]" "woodenlist.comp.header" ":refer" ["[]" "comp-header"]] ["[]" "woodenlist.comp.profile" ":refer" ["[]" "comp-profile"]] ["[]" "woodenlist.comp.login" ":refer" ["[]" "comp-login"]] ["[]" "respo-message.comp.msg-list" ":refer" ["[]" "comp-msg-list"]] ["[]" "woodenlist.comp.portal" ":refer" ["[]" "comp-portal"]] ["[]" "woodenlist.comp.group" ":refer" ["[]" "comp-group"]]]], "main" ["ns" "woodenlist.main" [":require" ["[]" "respo.core" ":refer" ["[]" "render!" "clear-cache!"]] ["[]" "woodenlist.comp.container" ":refer" ["[]" "comp-container"]] ["[]" "cljs.reader" ":refer" ["[]" "read-string"]] ["[]" "woodenlist.network" ":refer" ["[]" "send!" "setup-socket!"]]]], "network" ["ns" "woodenlist.network" [":require-macros" ["[]" "cljs.core.async.macros" ":refer" ["[]" "go"]]] [":require" ["[]" "cljs.reader" ":as" "reader"] ["[]" "cljs.core.async" ":as" "a" ":refer" ["[]" ">!" "<!" "chan" "timeout"]] ["[]" "recollect.patch" ":refer" ["[]" "patch-bunch"]]]], "comp.login" ["ns" "woodenlist.comp.login" [":require" ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "input" "button"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "respo-ui.style" ":as" "ui"]]], "comp.group" ["ns" "woodenlist.comp.group" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo-ui.style.colors" ":as" "colors"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span" "input"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-code" "comp-text"]] ["[]" "woodenlist.comp.task-draft" ":refer" ["[]" "comp-task-draft"]]]], "comp.header" ["ns" "woodenlist.comp.header" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo-ui.style.colors" ":as" "colors"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-code" "comp-text"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]]]], "comp.task-draft" ["ns" "woodenlist.comp.task-draft" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo-ui.style.colors" ":as" "colors"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span" "input"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-code" "comp-text"]]]]}, :procedures {"comp-portal" [], "style.typeset" [], "comp.profile" [], "comp.room" [], "style.devtool" [], "comp.container" [], "main" [["set!" "js/window.onload" "-main"]], "network" [], "comp.login" [], "comp.topics" [], "comp.group" [], "comp.home" [], "comp.topic" [], "comp.header" [], "comp.task-draft" [], "style.layout" [], "style.widget" []}, :package "woodenlist", :procudures nil}